# 函数式编程

## 1.函数式编程优势

- 更少的时间
- 更少的 BUG
- 更好的测试性
- 更方便调试
- 适合并发执行
- 更高的复用性
- 支持 tree-shaking
- React 和 vue3 大量使用函数式编程

## 2.什么是函数式编程

函数式编程是一种编程范式

- 面向过程式编程

```js
// 从上到下一行行执行，一行行写
let a = 1
let b = 2
let res1 = a + b
console.log(res1)
```

- 面向对象式编程

```JavaScript
class Calculaor {
  add (a, b) {
    return a + b
  }
}
let c = new Calculaor()
console.log(c.add(1, 2))

```

- 函数式编程

```JavaScript
// 函数其实是数学上的概念 y = f(x)
function addNum (a, b) {
  return a + b
}
let res2 = add(1, 2)
console.log(res2)
```

## 3. First-class Function(头等函数）

函数是头等函数

- 函数可以赋值给变量
- 函数可以作为参数
- 函数可以作为返回值

```js
function add (a, b) {
  return a + b
}

// 可以给变量赋值
let add1 = add

// 可以作为参数
function exec (fn, a, b) {
  return fn(a, b)
}

exec(add, 1, 2)

// 可以作为返回值
function exec2 (fn) {
  return function (a, b) {
    return fn(a, b)
  }
}
exec2(add)(1, 2)
```

作为参数和返回值的函数被称为高阶函数，高阶函数是函数式编程的基础

## 4.闭包（ closure)

- 一个函数和对其周围状态的引用捆绑在一起这样的组合就是闭包

- 闭包让你可以在一个内层函数中访问到其外层函数的作用域的变量

```JavaScript
function init () {
  let name = 'hello' // name 是一个被 init 创建的局部变量
  // displayName() 是内部函数，一个闭包
  function displayName () {
    console.log(name) // 使用了父函数中声明的变量
  }
  displayName()
}
init()

```
