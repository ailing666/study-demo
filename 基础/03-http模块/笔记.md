# http模块

## 一、http初体验

```js
// 引入http模块
const http = require('http')

// 创建http请求
const server = http.createServer((req, res) => {
  res.end('hello http')
})

// 监听http请求
server.listen(8888, 'localhost', () => {
  console.log('启动成功');
})

```

此时每次修改http请求，都需要重新运行代码，比较麻烦。可以借用工具`nodemon`实现自动监听

1. 安装`npm install -g nodemon`
2. 终端使用`nodemon`启动服务器
![](https://cdn.jsdelivr.net/gh/ailing666/images@master/2021/16375729062861637572906278.png)

## 二、参数解析

### 1.创建服务器

1. `http.createServer`创建

```js
const server1 = http.createServer((req, res) => {
  res.end('server1')
})

server1.listen(8000, 'localhost', () => {
  console.log('server1启动成功');
})
```

2. `new http.Server`创建

```js
const server2 = new http.Server((req, res) => {
  res.end('server2')
})
server2.listen(8001, 'localhost', () => {
  console.log('server2启动成功');
})
```

### 2.listen参数

1. 端口port:可以不传，系统会默认分配端口，通常会写入到环境变量中；
2. 主机host通常可以传入 localhost、ip地址127.0.0.1、或者ip地址0.0.0.0,默认是0.0.0.0
   1. localhost:本质上是一个域名，通常情况下会被解析成127.0.0.1;
   2. 127.0.0.1:回环地址,表达的意思其实是主机自己发出去的包，直接被自己接收
      + 在网络层直接就被获取到了，是不会经常数据链路层和物理层的
      + 监听127.0.0.1时，在同一个网段下的主机中，通过ip地址是不能访问的；
   3. 0.0.0.0
      + 监听IPV4上所有的地址，再根据端口找到不同的应用程序
      + 监听0.0.0.0时，在同一个网段下的主机中，通过ip地址是可以访问的
3. 回调函数：服务器启动成功时的回调函数

### 3.request对象
